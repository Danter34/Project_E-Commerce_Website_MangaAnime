@using Microsoft.AspNetCore.Identity

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    var user = await UserManager.GetUserAsync(User);
}
<div class="dropdown">
    @if (SignInManager.IsSignedIn(User))
    {
        <a href="#" class="w3-bar-item w3-button">
            <i class="fa-solid fa-user"></i> Hi @user.UserName
        </a>
        <div class="dropdown-content">
            <form id="logoutForm" asp-area="Identity" asp-page="/Account/Logout"
                  asp-route-returnUrl="/" method="post" style="display: inline;">
                <button type="submit" class="dropdown-item" style="background: none; color:white;">
                    Logout
                </button>
            </form>
            <!-- <a asp-controller="Orders" asp-action="ListOrders">Your order</a> -->
        </div>
    }
    else
    {
        <a href="#" class="w3-bar-item w3-button">
            <i class="fa-solid fa-user"></i> Login/Register
        </a>
        <div class="dropdown-content">
            <a asp-area="Identity" asp-page="/Account/Login">Login</a>
            <a asp-area="Identity" asp-page="/Account/Register">Register</a>
        </div>
    }
</div>

